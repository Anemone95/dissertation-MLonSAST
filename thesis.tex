%%]dvipdfm
\expandafter\def\csname CTEX@spaceChar\endcsname{\hspace{1em}}
\documentclass[master]{NJUthesis}
%\documentclass[twoside, master]{NJUthesis}
% 可选参数：
%   review 审阅模式，激活后个人、导师与学校信息均被隐去
%   oneside/twoside 单面/双面打印
%   phd/master 博士/硕士论文
% 下面三个选一个：
% dvi2pdf 使用 dvi2pdf(x) 生成最终的 PDF 文档 (缺省设置，不建议修改）
% dvips 使用 dvips 生成最终的 PS 文档
% pdftex 使用 pdfLaTeX 生成最终的 PDF 文档

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 导言区
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 小节标题靠左对齐
\CTEXsetup[format+={\flushleft}]{section}

% 设置链接颜色
\hypersetup{
% pdf 属性
            pdftitle={LaTeX Thesis Template of Nanjing University}, %
            pdfauthor={San Zhang}
}

% 表格
\usepackage{longtable, multirow}
% 英文使用 Times 字体
\usepackage{times}
% 源代码
\usepackage{fancyvrb}
% 自定义列表样式
\usepackage{enumitem}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{moreverb}
\usepackage{txfonts}
\usepackage{mathcomp}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage[linesnumbered,boxed,ruled,vlined]{algorithm2e}
\usepackage{array}
\usepackage{multirow}

%%	added by Jiang
\usepackage{extarrows}	%使用长箭头
\usepackage{nomencl}	%与术语表有关的包
\usepackage{booktabs}
\usepackage{ccmap}
\usepackage{listings}
\usepackage{lmodern}
\usepackage{caption}
\usepackage{float}

\newcommand{\PreserveBackslash}[1]{\let\temp=\\#1\let\\=\temp}
\newcolumntype{C}[1]{>{\PreserveBackslash\centering}p{#1}}
\newcolumntype{R}[1]{>{\PreserveBackslash\raggedleft}p{#1}}
\newcolumntype{L}[1]{>{\PreserveBackslash\raggedright}p{#1}}

\CTEXsetup[format+={\flushleft}]{section}
\CTEXsetup[format+={\flushleft}]{subsection}
\CTEXsetup[format+={\flushleft}]{subsubsection}

\lstset{numbers=left,
    basicstyle=\linespread{0.8}\ttfamily\footnotesize\linespread{0.8},
    keywordstyle=\bfseries,
    numbersep=5pt,
    breaklines,
    columns=flexible,
    %frame=single,
    %numberbychapter=false
}
\renewcommand{\lstlistingname}{代码}

%% added by lhy
%%取消默认楷书命令
\let\kaishu\relax 
%% 配置新的楷书命令，粗体用方正粗楷简体，普通用方正楷体简体
%% 这里其实是可选的，如果有什么更合适的楷体字体，可以自行替换
\setCJKfamilyfont { bfkt }[BoldFont=FZCKJT.ttf]{FZKTJT.ttf}
%% 添加新的字体命令kaishu，中文用方正楷体，英文用times
\NewDocumentCommand \kaishu { } { \CJKfamily { bfkt } \fontspec{Times New Roman}}
%% 全文所有英文默认使用Times英文字体
\setmainfont{Times New Roman}

\makenomenclature

\setcounter{topnumber}{5}

\theoremstyle{plain}
\newtheorem{definition}{\hspace{2em}定义}[chapter]
\newtheorem{lemma}{\hspace{2em}引理}[chapter]
\newtheorem{theorem}{\hspace{2em}定理}[chapter]
\newtheorem{property}{\hspace{2em}性质}[chapter]
\newtheorem{example}{\hspace{2em}例}[chapter]
\newtheorem{myrule}{\hspace{2em}规则}[chapter]


\newcommand{\tabincell}[2]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}% 表格内换行
\renewcommand{\footnoterule}{%脚注线
  \kern -3pt
  \hrule width 2.3in height 0.4pt
  \kern 2pt
}


\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 封面部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 国家图书馆封面内容字符串
% 仅博士需要填写并保证模板参数选择了 phd
\classification{}
\confidential{}
\UDC{}
\titlelinea{南京大学学位论文}
\titlelineb{~\LaTeX{}~模板}
\titlelinec{}
\advisorinfo{南京大学~软件学院}
\chairman{XXX 教授}
\reviewera{某某某某　副研究员}
\reviewerb{XXX 教授}
\reviewerc{XXX 教授}
\reviewerd{XXX 教授}
\nlcfootdate{~年~~月~~日}

% 南大中文封面内容字符串
\title{基于污点分析和 BLSTM 的 Java 代码分析系统的设计和实现}
\author{徐文远}
\studentnum{MF1832200}
\grade{2018}
\advisor{\kaishu 房春荣~~讲师}

\major{\kaishu 工程硕士（软件工程领域）}
\researchfield{\kaishu 软件工程}
\footdate{\kaishu 2020~年~x~月}
\submitdate{\kaishu 2020~年~x~月~xx~日}
\defenddate{\kaishu 2020~年~x~月~xx~日}



% 英文封面内容字符串
\englishtitle{The Design and Implementation of Static Code Analysis System based on Taint Analysis and BLSTM for Java }
\englishauthor{Wenyuan Xu}
\englishadvisor{Lecturer }
\englishadvisorname{Chunrong Fang}
\englishinstitute{Software Institute}
\englishdegree{Master of Engineering}
\englishmajor{Software Engineering}
\englishdate{May 2020}

% 制作封面命令
\maketitle

%\makechinesetitle

% 制作英文封面命令
\makeenglishtitle


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 前言部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frontmatter

\begin{abstract}
随着软件行业规模不断扩大，对于软件和信息系统的攻击日益增多，人们在快速开发软件的同时也越来越关注软件质量。为此，工程师在软件开发和测试过程中对使用静态代码分析系统对软件代码进行安全性扫描，并对报告进行评估，只有通过安全性评估的软件才可以部署至线上运行。然而，传统代码分析往往是保守的，为了不遗漏安全风险，系统往往会抛出大量误报，这些误报增加了安全工程师工作量，进而对软件开发进度产生影响。随着机器学习领域的发展，学术界已有将机器学习算法运用于代码分析以发现漏洞或降低误报的前沿性研究，然而他们的工作只适用于小规模程序，对于在大规模应用还存在着种种问题。

本系统旨在将学术研究成果代入工业界实际应用，面向 Web 开发常用的 Java 语言，利用污点分析、程序切片和 BLSTM 为开发或安全工程师提供更准确的代码扫描服务，进而减轻用户工作量，保证软件开发进度和质量。在污点传播方面，本系统利用 FindSecBugs 的大量规则，保证低漏报的同时，对该工具的输出进行改进，使之反馈更详细的污点传播路径；接着，本系统利用程序切片技术，对每一个漏洞实例进行代码切片，为了保证切片效率，本文提出分段切片思想，即将污点传播路径分解为一个个小的污染流片段，再对片段切片；最后，系统通过BLSTM模型，对漏洞的切片集合做预测，根据切片的预测结果推导漏洞实例本身是否为误报。

本系统目前已代替传统的污点传播分析引擎在线上部署，同时实验结果表明，本系统可以在可接受的扫描时间下，取得更加准确的扫描结果。在效率上，本系统优化了传统切片，每个项目的整体扫描时间不超过 1 小时，在准确性上，本系统的误报预测精确率达 90.53 \%，即相对于单纯的污点传播，本系统在遗漏少量真实漏洞的前提下，排除了 25.44 \% 误报，大大减轻了安全运营人员的代码审计工作量，从而在整体上加快了软件开发过程。


\keywords{静态代码分析，污点分析，程序切片，BLSTM}

\end{abstract}

% 英文摘要
\begin{englishabstract}
With the continuous expansion of the software industry, attacks on software and information systems are increasing. People are paying more and more attention to software quality. To this end, engineers use many static code analysis systems to scan the software code for security. Only software that passes the security test can be deployed to online. However, traditional code analysis is conservative. In order not to miss any vulnerability, the analysis often throws out a large number of false positives. These false positives disturbs security engineers, which also delays development. With the movement of machine learning, the academic community has done many research in applying machine learning algorithms to code analysis to find vulnerabilities or reduce false positives. However, their work is only applicable to small-scale programs. 

This system aims to bring academic research results into the real world, which uses taint analysis, program slicing, and BLSTM to provide more accurate code scanning services for developer or security engineers, thereby reducing workload and ensuring software's quality. In terms of taint analysis, the system uses a large number of rules of FindSecBugs to ensure low false negatives. Meanwhile, this system gives more detailed taint propagation paths. Then, the system uses program slicing technology to slice each vulnerability. In order to ensure the efficiency, this system proposes the idea of ​​segmented slicing, which divides path into small fragments —— taint flow. And then slices each taint flow. Finally, the system uses the BLSTM model to make predictions on the slice set of vulnerabilities, and derives whether the vulnerability instances are false positives based on the prediction results of the slices.

This system has been replaced the traditional taint analysis engine. At the same time, the experimental results show that this system can get more accurate scan results in an acceptable scan time. In terms of efficiency, the system optimizes traditional slicing, and the overall scan time of each project does not exceed 1 hour. In terms of accuracy, the system's precision rate reaches 90.53%. In other words, compared to Find Security Bugs, the system has eliminated 25.44% false positives, Which greatly reduced the code audit work, thereby accelerating the software development process.

\englishkeywords{Taint Analysis, Program Slicing，BLSTM}
\end{englishabstract}

% 生成目录命令（目录中不包含目录本身）
\addtocontents{toc}{\protect\setcounter{tocdepth}{-1}}
\tableofcontents
\addtocontents{toc}{\protect\setcounter{tocdepth}{3}}


% 以下两个目录可根据具体情况注释掉（将表格目录和图形目录重命名后加入目录）
% 生成表格目录命令
\renewcommand*{\listtablename}{表~~目~~录}
\listoftables
\addcontentsline{toc}{chapter}{表~~目~~录}
% 生成插图目录命令
\renewcommand*{\listtablename}{图~~目~~录}
\listoffigures
\addcontentsline{toc}{chapter}{图~~目~~录}

%生成术语表命令
%\include{chapter/Nomenclatures}
%\def\nomname{缩略语对照表}
%\printnomenclature[5em]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 正文部分
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter

\input{chapter/Introduction.tex}

\input{chapter/RelateWork.tex}

\input{chapter/DemandAndDesign.tex}

\input{chapter/ImplementationAndTest.tex}

\input{chapter/ConclusionAndFetureWork.tex}

% 参考文献

\bibliography{reference}
%% addde by lhy
%% 因为overleaf上没有这个参考文献排版文件
% \bibstyle{elsart-num}

%个人简介
\Nchapter{简历与科研成果}
\noindent {\heiti 基本情况}
\vspace{1ex}
\noindent 徐文远，男，汉族，1995~年~8~月出生，江苏省南京市人。
\vspace{2ex}

\noindent {\heiti 教育背景}
\begin{description}[labelindent=0em, leftmargin=8em, style=sameline]
\item[2018.9～2020.6] 南京大学软件学院 \hfill 硕士
\item[2014.9～2018.6] 扬州大学信息工程学院 \hfill 本科
\end{description}
% 发表文章目录

\noindent {\heiti 这里是读研期间的成果（实例为受理的专利）}

\begin{enumerate}[label=\arabic*., labelindent=0em, leftmargin=*]
	\item 房春荣、龚爱、\textbf{徐文远}、蒋燕、李玉莹、陈振宇，``一种基于Android源代码的风险等级预测方法''，申请号：201810092876.1，已受理。
\end{enumerate}


\backmatter


\begin{thanks}

\vskip 18pt

首先感谢陈振宇老师，感谢您两年以来对我的谆谆指导，不仅在学术上给我创造了很多机会，更重要的是教会我如何做人，让我如今能以一个研究生的身份走入社会。即使是在疫情严重时期，您也不断地牺牲个人时间通过线上会议和微信了解我们的毕设进展，提出宝贵意见，保证了本文的专业性和技术深度。感谢房春荣老师，在本项目的设计、实验安排等方面提出的宝贵建议和意见。同时感谢实验室黄勇老师在技术上的帮助和指导，是您的严格要求保证了本系统的健壮性。

感谢张双江、李灏宇师兄为本文的行文安排和格式上提供的帮助。感谢同为安全组的蒋燕和史洋洋同学，让我在科研的道路上不再孤单，感谢你们在平时研究和毕业设计过程中对我的帮助，在进展不顺利的时候给我安慰并与我一起出谋划策。

感谢 Koc 教授，是你们团队在学术上的工作为本文提供了理论支持，感谢 WALA 开发者 Manu，Joana 开发者 Simon，感谢你们的建议和意见让本文无依赖切片成为现实。

感谢暑期实习时与我一起工作的同事们，是你们让我了解到了真实安全运营时面临的问题，启发了本文的工作。

感谢父母，谢谢你们在我完成毕设期间对我的理解和支持，给我了一个舒适的工作环境，保证了毕设的顺利完成。


\end{thanks}


\end{document}


