\chapter{引言}

\section{项目背景和意义}
% 1 pages
% 漏洞多
随着网络技术和应用的飞速发展，信息系统安全正面临着前所未有的挑战。网络化和互联互通性已经成为当前软件和信息系统发展的大势所趋，信息系统与互联网或其他网络的互连，将导致系统受攻击面增大，使系统面临的安全威胁空前的增加。另一方面，随着构建在信息系统之上的各种业务应用的不断丰富，软件和信息系统复杂程度的不断提高，系统中隐藏的各种安全隐患也越来越多，并且通常难以被发现和消除，尽管开发者已经投入了大量精力进行安全编程，但是软件漏洞仍然存在，并将继续成为一个重大的问题~\cite{vuldeepecker}。根据国际通用漏洞发布组织MITRE统计，在1999年，仅有1600个通用漏洞（CVE，Common Vulnerabilities and Exposures）被发现；到了2014年，新发现的CVE数量已接近10000个~\cite{liujian2018}；而至今（2020年1月26日），该数字已经上升到了129695个~\footnote{\url{https://cve.mitre.org/cve/}}。同时，根据国家互联网应急中心（CNCERT/CC，National Computer Network Emergency Response Technical Team/Coordination Center of China）的报告~\footnote{\url{https://www.cert.org.cn/publish/main/upload/File/2019 First half year .pdf}}显示，仅2019年上半年，国家信息安全漏洞共享平台（CNVD）就收入了通用型安全漏洞5859个，其中Web漏洞占比24.9\%，位居第二。

% 危害大
从以往发生的安全事件来看，针对Web漏洞的攻击可导致的后果极为严重，一个网站系统只要有一处脆弱点，攻击者就可以使用一切能够使用的手段对该网站发起攻击，篡改网页内容，窃取服务器数据甚至在服务器中执行恶意代码，造成更严重的后果~\cite{WebApplication}。

% 静态扫描重要性
源代码是构成软件系统的基石。对于源代码进行安全扫描，可以在系统上线前及时发现各类安全漏洞和威胁，根据2019年中国软件评测中心的《2019大中型政企机构网络安全建设发展趋势研究报告》显示，进行源码扫描可以有效减少10\%-50\%的安全漏洞，降低软件安全建设和运维成本。因此，源码安全作为软件安全的重要一环，日益收到中大型政企机构的重视，在此方面的投入也不断提高。因此，构建一款具有高准确率的静态代码分析（SCA，static code analysis）系统就显得尤为重要。

% 目前静态扫描存在不足
随着软件数量和规模的扩大，人们总希望能够通过自动化技术发现代码中的漏洞，因此从开源工具到商业工具，从工程应用到学术研究，目前已有许多关于代码静态扫描系统的应用和研究。然而目前的代码安全扫描系统仍存在或多或少的问题，在工业界，SCA 使用了基于模式匹配、数据流分析等技术，往往希望不漏掉真实漏洞——不产生漏报，而产生了大量误报。过高的误报会大大加大人工审核的任务，而过高的漏报则可能导致 SCA 不可用。学术界对提高 SCA 的准确性进行了更深入的研究，引入了诸如符号执行，机器学习等技术，但是受限于计算能力，它们往往只能应对小规模代码项目，如何让学术界成果应用到工业界，使其适应大规模程序，是安全工程师亟待考虑的问题。

% 本文工作
本文旨在设计一款基于污点传播和机器学习的Java静态的代码扫描系统，填补了学术界和工业界的鸿沟，通过限制调用图的去依赖切片技术，将污染流分段处理，并将子污染流进行基于BLSTM模型的预测。具体来说，用户输入一个已编译好的jar包后，该系统以污点传播为基础，先产生一个初步的漏洞结果。由于污点传播存在过污染、无法识别清洁函数问题，该结果存在大量误报，接着系统根据初步结果进行污点传播分解，将其划分为多个子污染流，对每个污染流进行代码切片，并用BLSTM算法模型预测代码切片是否能够向下传播污点，判断整个污染流是否成立，并将疑似误报的漏洞威胁等级降低，以此让安全工程师或软件开发人员将注意力更多的放在更可能为漏洞的结果上。同时，用户可以对判断不准确的漏洞重新标注，通过模型周期性的迭代学习，其预测准确率将不断提高。

\section{研究现状}
本系统旨在利用传统方法配合机器学习对Java软件源代码进行静态安全扫描，因此本节将详细介绍工业界传统静态扫描系统应用现状和学术界基于机器学习的静态安全扫描研究现状。\\

\subsection{传统静态安全扫描应用现状}

在项目上线前对项目代码进行静态扫描已经成为软件开发中的最佳实践，而在实际操作中，各个企业也会根据实际情况使用或自研静态扫描产品。本小节就目前常用的扫描产品和静态扫描技术进行介绍。

目前静态安全扫描产品使用的技术主要有词法分析技术、数据流分析技术和形式化分析技术。词法分析技术主要是对代码中敏感函数进行匹配，从而发现安全性漏洞，这一类分析技术产生时间较早，实现也较为简单，但是由于其不考虑程序上下文，存在大量误报。

数据流分析技术模拟程序中的敏感数据流动从而发现安全漏洞，其衍生出的污点分析方法是目前各大扫描器也是各个企业中所用到的主要检测方法，这一类分析方法比较适合于数组越界，注入类漏洞，因为这些漏洞的漏洞特征表现为特定变量在某一程序点上的状态满足或不某一规则，通过对数据的跟踪恰好可以识别这些特征。然而由于目前程序规模不断扩大，新型的程序设计思想和语法不断出现，加之漏洞成因愈发复杂，即使是这类分析技术目前也存在大量误报，例如污点传播无法很好的处理容器变量，控制流、清洁函数等，为了降低误报，企业中的安全运营人员必须手工设计精巧的污点传播规则，限制开发者所用的清洁函数，或是以手工添加函数摘的方式添加清洁函数等方式，然而这些方式并不能彻底解决污点分析的弊端，因此仍有误报不断产生，安全工程师需要花大量时间处理误报。

形式化分析技术往往用于一些可以用数学逻辑表达的安全漏洞，如 C/C++ 语言中的指针变量二次释放，缓冲区溢出等问题，这一类技术往往将漏洞存在性问题变为数学逻辑上的约束求解和逻辑推导问题，由于目前程序规模较大，这一类分析技术面临着求解规模空间大，无法推导等提问题，此外这类技术的针对的漏洞类型较少，将问题转变为数学模型需要大量人力成本。

目前商业上的 SCA 主要有 Fortify SCA~\footnote{\url{https://www.microfocus.com/en-us/products/static-code-analysis-sast/overview}}、LGTM~\footnote{\url{https://lgtm.com/}}，Infer~\footnote{\url{https://infer.liaohuqiu.net/}}等。Fortify 为老牌安全扫描工具，其主要结合了词法分析，数据流分析、配置分析等扫描技术，但就像前文所说，其默认规则存在大量误报；LGTM 为较为新型的安全扫描器，是 Google、微软所使用的安全扫描器之一，其创新点在于其通过定义的 QL 语法编写扫描器规则，依次将扫描逻辑和规则逻辑分离，也使安全工程师能够较快的编写规则；Infer 为 Facebook 所使用的安全扫描器之一，也是少数使用形式化分析技术实现的扫描器，其主要关注点在于移动端语言的安全性问题（如Java， Objective-C和C/C++），对于资源泄露，空指针等漏洞的扫描较为准确。\\

\subsection{基于机器学习的静态安全扫描研究现状}
%1pages

\section{本文主要研究工作}


\section{本文组织结构}
asd